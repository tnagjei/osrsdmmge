{% from "header.njk" import renderHeader %}
{% from "footer-home.njk" import renderFooterHome %}
{% from "footer-secondary.njk" import renderFooterSecondary %}

<!DOCTYPE html>
<html lang="{{ page.locale }}" data-locale="{{ page.locale }}"{% if page.dir %} dir="{{ page.dir }}"{% endif %}>
  <head>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F8RPESEY64"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-F8RPESEY64');
    </script>
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "vc09e4q8go");
    </script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3083296102953963"
         crossorigin="anonymous"></script>
  <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>osrsdmmge - Real-time DMM Gold Price Tracker</title>
    <meta name="description" content="osrsdmmge is your free tool for real-time Deadman Mode gold prices. Track swap rates, calculate margins, and find profitable flips with live Wiki API data." />
    <meta name="keywords" content="" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://osrsdmmge.online/no/" />
    <meta property="og:title" content="osrsdmmge - Real-time DMM Gold Price Tracker" />
    <meta property="og:description" content="osrsdmmge is your free tool for real-time Deadman Mode gold prices. Track swap rates, calculate margins, and find profitable flips with live Wiki API data." />
    <meta property="og:image" content="https://osrsdmmge.online/assets/og-image.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://osrsdmmge.online/no/" />
    <meta property="twitter:title" content="osrsdmmge - Real-time DMM Gold Price Tracker" />
    <meta property="twitter:description" content="osrsdmmge is your free tool for real-time Deadman Mode gold prices. Track swap rates, calculate margins, and find profitable flips with live Wiki API data." />
    <meta property="twitter:image" content="https://osrsdmmge.online/assets/og-image.png" />
    <link rel="canonical" href="https://osrsdmmge.online/no/" />
    <link rel="alternate" href="https://osrsdmmge.online/" hreflang="en" />
    <link rel="alternate" href="https://osrsdmmge.online/fi/" hreflang="fi" />
    <link rel="alternate" href="https://osrsdmmge.online/sv/" hreflang="sv" />
    <link rel="alternate" href="https://osrsdmmge.online/no/" hreflang="no" />
    <link rel="alternate" href="https://osrsdmmge.online/" hreflang="x-default" />
    <link rel="icon" type="image/svg+xml" href="/assets/osrs-icon.svg" />
    <link rel="stylesheet" href="/assets/site.css" />
    <style>
      /* OSRS Theme Overrides */
      :root {
        --osrs-dark: #1a1a1a;
        --osrs-darker: #0d0d0d;
        --osrs-gold: #ffc107;
        --osrs-gold-dark: #b8860b;
        --osrs-orange: #ff9800;
        --osrs-green: #4caf50;
        --osrs-red: #f44336;
        --osrs-brown: #3e2723;
        --osrs-border: #4a4a4a;
      }
      
      body.osrs-theme {
        background: linear-gradient(180deg, var(--osrs-darker) 0%, var(--osrs-dark) 100%);
        color: #e0e0e0;
      }
      
      .osrs-card {
        background: linear-gradient(145deg, #2a2a2a 0%, #1f1f1f 100%);
        border: 2px solid var(--osrs-border);
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.05);
      }
      
      .osrs-title {
        color: var(--osrs-gold);
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        font-weight: 700;
      }
      
      .osrs-gold-text {
        color: var(--osrs-gold);
      }
      
      .osrs-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
      }
      
      .osrs-table thead {
        background: linear-gradient(180deg, #3a3a3a 0%, #2a2a2a 100%);
      }
      
      .osrs-table th {
        padding: 12px 16px;
        text-align: left;
        color: var(--osrs-gold);
        font-weight: 600;
        border-bottom: 2px solid var(--osrs-gold-dark);
        text-transform: uppercase;
        font-size: 0.75rem;
        letter-spacing: 0.05em;
      }
      
      .osrs-table tbody tr {
        transition: background-color 0.2s ease;
      }
      
      .osrs-table tbody tr:hover {
        background-color: rgba(255, 193, 7, 0.08);
      }
      
      .osrs-table tbody tr:nth-child(even) {
        background-color: rgba(255, 255, 255, 0.02);
      }
      
      .osrs-table td {
        padding: 12px 16px;
        border-bottom: 1px solid #333;
        font-size: 0.875rem;
      }
      
      .price-positive {
        color: var(--osrs-green);
        font-weight: 600;
      }
      
      .price-negative {
        color: var(--osrs-red);
        font-weight: 600;
      }
      
      .loading-spinner {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 2px solid #333;
        border-top-color: var(--osrs-gold);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
      
      .swap-rate-badge {
        background: linear-gradient(135deg, var(--osrs-gold-dark) 0%, var(--osrs-gold) 50%, var(--osrs-orange) 100%);
        color: #000;
        font-weight: 700;
        padding: 8px 20px;
        border-radius: 6px;
        display: inline-block;
        font-size: 1.25rem;
        box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);
      }
      
      .info-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        background: rgba(255, 255, 255, 0.1);
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.75rem;
        color: #aaa;
      }
      
      .pulse-dot {
        width: 8px;
        height: 8px;
        background: var(--osrs-green);
        border-radius: 50%;
        animation: pulse 2s infinite;
      }
      
      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }
    </style>
  </head>
  <body class="osrs-theme antialiased">
    {{ languageAlert | safe }}
    {{ renderHeader(header) }}
    <main class="mx-auto max-w-6xl px-4 pb-24 pt-12 md:px-8">
      
      <!-- Hero Section -->
      <section id="hero" class="text-center mb-12">
        <h1 class="osrs-title text-4xl sm:text-5xl md:text-6xl mb-4">
          OSRS DMM GE
          <br>
          <span class="text-3xl sm:text-4xl">Price Tracker</span>
        </h1>
        <p class="text-gray-400 max-w-2xl mx-auto text-lg">
          Real-time OSRS DMM GE swap rates and profit opportunities with osrsdmmge
        </p>
      </section>

      <!-- Swap Rate Dashboard Card -->
      <section id="swap-rates" class="osrs-card p-6 md:p-8 mb-10">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-8">
          <!-- Left: Title and Description -->
          <div class="flex items-start gap-4">
            <div style="width: 48px; height: 48px; min-width: 48px; background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
              <svg style="width: 24px; height: 24px;" fill="#000" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
              </svg>
            </div>
            <div>
              <h2 class="osrs-gold-text text-2xl font-bold mb-1">DMM Swap Rates</h2>
              <p class="text-gray-400 text-sm">Current exchange rate between DMM and OSRS gold</p>
            </div>
          </div>

          <!-- Right: Rate Display -->
          <div class="flex flex-col items-center lg:items-end gap-4">
            <!-- Main Rate Badge -->
            <div style="background: linear-gradient(135deg, #b8860b 0%, #ffc107 40%, #ff9800 100%); padding: 16px 32px; border-radius: 12px; box-shadow: 0 8px 32px rgba(255, 193, 7, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);">
              <div style="font-size: 2rem; font-weight: 800; color: #000; text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3); letter-spacing: -0.02em;">
                1M DMM <span style="opacity: 0.7;">=</span> 55M OSRS
              </div>
            </div>

            <!-- Status Badges Row -->
            <div class="flex flex-wrap justify-center lg:justify-end gap-3">
              <span class="info-badge" style="background: rgba(76, 175, 80, 0.15); border: 1px solid rgba(76, 175, 80, 0.3);">
                <span class="pulse-dot"></span>
                <span style="color: #4caf50;">Live Rate</span>
              </span>
              <span class="info-badge" style="background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3);">
                <svg style="width: 14px; height: 14px;" fill="#ffc107" viewBox="0 0 24 24">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                </svg>
                <span style="color: #ffc107;">Source: Discord</span>
              </span>
            </div>

            <!-- Last Updated -->
            <p class="text-gray-500 text-xs" id="last-updated">
              Last updated: Loading...
            </p>
          </div>
        </div>
      </section>

      <!-- Profit Leaderboard Section -->
      <section id="profit-board" class="osrs-card p-6 md:p-8">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
          <div>
            <h2 class="osrs-gold-text text-2xl font-bold flex items-center gap-3">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
              </svg>
              Real-time Profit Leaderboard
            </h2>
            <p class="text-gray-400 text-sm mt-1">Top 20 items with highest flipping margins (updated every minute)</p>
          </div>
          <button 
            id="refresh-btn" 
            class="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-600 to-amber-500 text-black font-semibold rounded-lg hover:from-amber-500 hover:to-amber-400 transition-all duration-200"
            onclick="fetchData()"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
            </svg>
            Refresh
          </button>
        </div>

        <!-- Filter Info -->
        <div class="flex flex-wrap gap-3 mb-6 text-sm">
          <span class="info-badge bg-amber-500/10 text-amber-400 border border-amber-500/30">
            Margin &gt; 50,000 GP
          </span>
          <span class="info-badge bg-green-500/10 text-green-400 border border-green-500/30">
            Traded in last 1 hour
          </span>
          <span class="info-badge bg-blue-500/10 text-blue-400 border border-blue-500/30">
            Sorted by profit
          </span>
        </div>

        <!-- Data Table -->
        <div class="overflow-x-auto -mx-6 md:-mx-8 px-6 md:px-8">
          <table class="osrs-table min-w-full">
            <thead>
              <tr>
                <th class="rounded-tl-lg">#</th>
                <th>Item</th>
                <th>Buy Price (Low)</th>
                <th>Sell Price (High)</th>
                <th class="rounded-tr-lg">Margin</th>
              </tr>
            </thead>
            <tbody id="profit-tbody">
              <tr>
                <td colspan="5" class="text-center py-12">
                  <div class="flex flex-col items-center gap-4">
                    <div class="loading-spinner"></div>
                    <span class="text-gray-400">Loading data from Wiki...</span>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Status Footer -->
        <div class="mt-6 pt-6 border-t border-gray-700 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 text-sm text-gray-500">
          <div id="data-status">
            <span class="flex items-center gap-2">
              <span class="pulse-dot"></span>
              Fetching live data...
            </span>
          </div>
          <div>
            Data source: <a href="https://prices.runescape.wiki/" target="_blank" rel="noopener" class="text-amber-400 hover:underline" title="Visit RuneScape Wiki">RuneScape Wiki API</a>
          </div>
        </div>
      </section>

      <!-- Why Use DMM Tracker Section -->
      <section id="why" class="mt-16">
        <h2 class="osrs-gold-text text-2xl font-bold mb-8 text-center">Why Use osrsdmmge?</h2>
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-4">
          <div class="osrs-card p-6 text-center">
            <div style="width: 48px; height: 48px; margin: 0 auto 16px; background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
              <svg style="width: 24px; height: 24px;" fill="#fff" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            </div>
            <h3 class="osrs-gold-text font-bold mb-2">100% Free DMM GE Tool</h3>
            <p class="text-gray-400 text-sm">osrsdmmge is completely free. Use all features of our OSRS DMM GE tracker with no hidden costs.</p>
          </div>
          <div class="osrs-card p-6 text-center">
            <div style="width: 48px; height: 48px; margin: 0 auto 16px; background: linear-gradient(135deg, #2196f3 0%, #1565c0 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
              <svg style="width: 24px; height: 24px;" fill="#fff" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
            </div>
            <h3 class="osrs-gold-text font-bold mb-2">No Registration</h3>
            <p class="text-gray-400 text-sm">Start tracking OSRS DMM GE prices instantly. No account creation required for osrsdmmge.</p>
          </div>
          <div class="osrs-card p-6 text-center">
            <div style="width: 48px; height: 48px; margin: 0 auto 16px; background: linear-gradient(135deg, #9c27b0 0%, #6a1b9a 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
              <svg style="width: 24px; height: 24px;" fill="#fff" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
            </div>
            <h3 class="osrs-gold-text font-bold mb-2">Privacy First</h3>
            <p class="text-gray-400 text-sm">All OSRS DMM GE data processing happens in your browser. osrsdmmge doesn't store your personal info.</p>
          </div>
          <div class="osrs-card p-6 text-center">
            <div style="width: 48px; height: 48px; margin: 0 auto 16px; background: linear-gradient(135deg, #ff9800 0%, #e65100 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
              <svg style="width: 24px; height: 24px;" fill="#fff" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
            </div>
            <h3 class="osrs-gold-text font-bold mb-2">Real-time Updates</h3>
            <p class="text-gray-400 text-sm">Data refreshes automatically every 5 minutes from the official RuneScape Wiki API for accurate market information.</p>
          </div>
        </div>
      </section>

      <!-- How It Works Section -->
      <section id="how" class="mt-16">
        <h2 class="osrs-gold-text text-2xl font-bold mb-8 text-center">How It Works</h2>
        <div class="grid gap-6 md:grid-cols-4">
          <div class="osrs-card p-6 relative">
            <div style="position: absolute; top: -12px; left: 20px; width: 32px; height: 32px; background: var(--osrs-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-weight: 700;">1</div>
            <h3 class="osrs-gold-text font-bold mb-3 mt-2">Check OSRS DMM GE Rates</h3>
            <p class="text-gray-400 text-sm">View current OSRS DMM GE swap rates. accurate osrsdmmge data helps you value your Deadman Mode gold.</p>
          </div>
          <div class="osrs-card p-6 relative">
            <div style="position: absolute; top: -12px; left: 20px; width: 32px; height: 32px; background: var(--osrs-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-weight: 700;">2</div>
            <h3 class="osrs-gold-text font-bold mb-3 mt-2">Find Profitable Items</h3>
            <p class="text-gray-400 text-sm">Browse the profit leaderboard showing the top 20 items with the highest margins. Items are filtered to show only those traded in the last hour.</p>
          </div>
          <div class="osrs-card p-6 relative">
            <div style="position: absolute; top: -12px; left: 20px; width: 32px; height: 32px; background: var(--osrs-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-weight: 700;">3</div>
            <h3 class="osrs-gold-text font-bold mb-3 mt-2">Trade in Grand Exchange</h3>
            <p class="text-gray-400 text-sm">Use the buy and sell prices to place your offers in the Grand Exchange. Buy low, sell high, and pocket the difference as profit.</p>
          </div>
          <div class="osrs-card p-6 relative">
            <div style="position: absolute; top: -12px; left: 20px; width: 32px; height: 32px; background: var(--osrs-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-weight: 700;">4</div>
            <h3 class="osrs-gold-text font-bold mb-3 mt-2">Maximize Profits</h3>
            <p class="text-gray-400 text-sm">Refresh the data regularly to find new opportunities. Focus on items with high margins and good trading volume for consistent gold-making.</p>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section id="features" class="mt-16">
        <h2 class="osrs-gold-text text-2xl font-bold mb-8 text-center">Key Features</h2>
        <div class="osrs-card p-8">
          <div class="grid gap-6 md:grid-cols-2">
            <div class="flex gap-4">
              <div style="width: 40px; height: 40px; min-width: 40px; background: rgba(255, 193, 7, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                <svg style="width: 20px; height: 20px;" fill="#ffc107" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
              </div>
              <div>
                <h3 class="text-white font-semibold mb-1">Live Price Data</h3>
                <p class="text-gray-400 text-sm">Real-time prices fetched directly from the official RuneScape Wiki API with automatic updates every 5 minutes.</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div style="width: 40px; height: 40px; min-width: 40px; background: rgba(255, 193, 7, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                <svg style="width: 20px; height: 20px;" fill="#ffc107" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
              </div>
              <div>
                <h3 class="text-white font-semibold mb-1">Smart Filtering</h3>
                <p class="text-gray-400 text-sm">Automatic filtering for items with margins over 50,000 GP and recent trading activity within the last hour.</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div style="width: 40px; height: 40px; min-width: 40px; background: rgba(255, 193, 7, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                <svg style="width: 20px; height: 20px;" fill="#ffc107" viewBox="0 0 24 24"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>
              </div>
              <div>
                <h3 class="text-white font-semibold mb-1">Multi-language Support</h3>
                <p class="text-gray-400 text-sm">Available in English, Finnish (Suomi), Swedish (Svenska), and Norwegian (Norsk) for players worldwide.</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div style="width: 40px; height: 40px; min-width: 40px; background: rgba(255, 193, 7, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                <svg style="width: 20px; height: 20px;" fill="#ffc107" viewBox="0 0 24 24"><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"/></svg>
              </div>
              <div>
                <h3 class="text-white font-semibold mb-1">Mobile Friendly</h3>
                <p class="text-gray-400 text-sm">Fully responsive design that works perfectly on desktop, tablet, and mobile devices for tracking on the go.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Testimonials Section -->
      <section id="testimonials" class="mt-16">
        <h2 class="osrs-gold-text text-2xl font-bold mb-8 text-center">What Players Say</h2>
        <div class="grid gap-6 md:grid-cols-3">
          <div class="osrs-card p-6">
            <div class="flex items-center gap-3 mb-4">
              <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 700;">M</div>
              <div>
                <p class="text-white font-semibold">MaxedMain99</p>
                <p class="text-gray-500 text-xs">Combat Level 126</p>
              </div>
            </div>
            <p class="text-gray-400 text-sm">"Finally a tracker that actually shows real DMM prices! Made 50M in my first week of flipping using this tool. The margin filter is super helpful."</p>
            <div class="mt-4 flex gap-1">
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
            </div>
          </div>
          <div class="osrs-card p-6">
            <div class="flex items-center gap-3 mb-4">
              <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #2196f3 0%, #1565c0 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 700;">P</div>
              <div>
                <p class="text-white font-semibold">PureFlipperPK</p>
                <p class="text-gray-500 text-xs">Combat Level 75</p>
              </div>
            </div>
            <p class="text-gray-400 text-sm">"Love that it's completely free with no signup. I use it on mobile while playing and it's perfect. The auto-refresh saves so much time."</p>
            <div class="mt-4 flex gap-1">
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
            </div>
          </div>
          <div class="osrs-card p-6">
            <div class="flex items-center gap-3 mb-4">
              <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #9c27b0 0%, #6a1b9a 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 700;">S</div>
              <div>
                <p class="text-white font-semibold">SwedenGamer</p>
                <p class="text-gray-500 text-xs">Combat Level 110</p>
              </div>
            </div>
            <p class="text-gray-400 text-sm">"Great to see a Swedish version! The interface is clean and the data updates fast. Recommended for anyone doing DMM merching."</p>
            <div class="mt-4 flex gap-1">
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-amber-400">★</span>
              <span class="text-gray-600">★</span>
            </div>
          </div>
        </div>
      </section>

      <!-- FAQ Section -->
      <section id="faq" class="mt-16 mb-8">
        <h2 class="osrs-gold-text text-2xl font-bold mb-8 text-center">Frequently Asked Questions</h2>
        <div class="space-y-4 max-w-3xl mx-auto">
          <div class="osrs-card p-6">
            <h3 class="text-white font-semibold mb-2">What is Deadman Mode (DMM)?</h3>
            <p class="text-gray-400 text-sm">Deadman Mode is a seasonal, high-stakes player-vs-player (PvP) mode in Old School RuneScape. Players compete for prizes while risking their items and experience points. DMM gold has its own economy separate from the main OSRS game.</p>
          </div>
          <div class="osrs-card p-6">
            <h3 class="text-white font-semibold mb-2">How are prices calculated?</h3>
            <p class="text-gray-400 text-sm">Prices are fetched directly from the official RuneScape Wiki API, which tracks real Grand Exchange transactions. The margin is calculated as the difference between the highest buy offer (sell price) and lowest sell offer (buy price).</p>
          </div>
          <div class="osrs-card p-6">
            <h3 class="text-white font-semibold mb-2">How often is data updated?</h3>
            <p class="text-gray-400 text-sm">The tracker automatically refreshes every 5 minutes. You can also manually refresh by clicking the "Refresh" button to get the latest prices immediately. The Wiki API updates prices roughly every minute.</p>
          </div>
          <div class="osrs-card p-6">
            <h3 class="text-white font-semibold mb-2">Is osrsdmmge free to use?</h3>
            <p class="text-gray-400 text-sm">Yes, osrsdmmge is a completely free OSRS DMM GE tracker. No registration needed.</p>
          </div>
          <div class="osrs-card p-6">
            <h3 class="text-white font-semibold mb-2">How do I flip items for profit in DMM?</h3>
            <p class="text-gray-400 text-sm">Flipping involves buying items at low prices and selling them at higher prices. Use this tracker to find items with high margins, then place a buy offer at the "Low" price and a sell offer at the "High" price in the Grand Exchange. The difference is your profit.</p>
          </div>
        </div>
      </section>

    </main>
    {{ renderFooterHome(footer) }}

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "OSRS DMM Tracker",
      "description": "Real-time Deadman Mode gold price tracker and profit calculator for Old School RuneScape players",
      "url": "https://osrsdmmge.online",
      "applicationCategory": "GameApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Person",
        "name": "tangjei414",
        "email": "tangjei414@gmail.com"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is Deadman Mode (DMM)?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Deadman Mode is a seasonal, high-stakes player-vs-player (PvP) mode in Old School RuneScape. Players compete for prizes while risking their items and experience points. DMM gold has its own economy separate from the main OSRS game."
          }
        },
        {
          "@type": "Question",
          "name": "How are prices calculated?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Prices are fetched directly from the official RuneScape Wiki API, which tracks real Grand Exchange transactions. The margin is calculated as the difference between the highest buy offer (sell price) and lowest sell offer (buy price)."
          }
        },
        {
          "@type": "Question",
          "name": "Is this tracker free to use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, OSRS DMM Tracker is completely free to use with no registration required. There are no premium features, subscriptions, or hidden costs."
          }
        },
        {
          "@type": "Question",
          "name": "How do I flip items for profit in DMM?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Flipping involves buying items at low prices and selling them at higher prices. Use this tracker to find items with high margins, then place a buy offer at the Low price and a sell offer at the High price in the Grand Exchange."
          }
        },
        {
          "@type": "Question",
          "name": "How often is data updated?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The tracker automatically refreshes every 5 minutes. You can also manually refresh by clicking the Refresh button to get the latest prices immediately. The Wiki API updates prices roughly every minute."
          }
        }
      ]
    }
    </script>

    <script>
      // OSRS DMM Price Tracker - MVP v1.0
      // API Endpoints
      const PRICES_API = 'https://prices.runescape.wiki/api/v1/dmm/latest';
      const MAPPING_API = 'https://prices.runescape.wiki/api/v1/osrs/mapping';
      const USER_AGENT = 'DMM_Tracker_MVP/1.0';

      // DOM Elements
      const profitTbody = document.getElementById('profit-tbody');
      const dataStatus = document.getElementById('data-status');
      const lastUpdated = document.getElementById('last-updated');
      const refreshBtn = document.getElementById('refresh-btn');

      // Format number with commas
      function formatNumber(num) {
        if (num === undefined || num === null) return '-';
        return num.toLocaleString('en-US');
      }

      // Format GP (gold pieces) with color
      function formatGP(num, isMargin = false) {
        if (num === undefined || num === null) return '<span class="text-gray-500">-</span>';
        const formatted = formatNumber(num);
        if (isMargin) {
          return `<span class="price-positive">${formatted} GP</span>`;
        }
        return `${formatted} GP`;
      }

      // Update last updated timestamp
      function updateTimestamp() {
        const now = new Date();
        lastUpdated.textContent = `Last updated: ${now.toLocaleTimeString()}`;
      }

      // Render loading state
      function showLoading() {
        profitTbody.innerHTML = `
          <tr>
            <td colspan="5" class="text-center py-12">
              <div class="flex flex-col items-center gap-4">
                <div class="loading-spinner"></div>
                <span class="text-gray-400">Loading data from Wiki...</span>
              </div>
            </td>
          </tr>
        `;
        dataStatus.innerHTML = '<span class="flex items-center gap-2"><span class="pulse-dot"></span>Fetching live data...</span>';
      }

      // Render error state
      function showError(message) {
        profitTbody.innerHTML = `
          <tr>
            <td colspan="5" class="text-center py-12">
              <div class="flex flex-col items-center gap-4 text-red-400">
                <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span>${message}</span>
                <button onclick="fetchData()" class="mt-2 px-4 py-2 bg-amber-600 text-black rounded-lg hover:bg-amber-500">
                  Try Again
                </button>
              </div>
            </td>
          </tr>
        `;
        dataStatus.innerHTML = '<span class="text-red-400">Failed to load data</span>';
      }

      // Render table data
      function renderTable(items) {
        if (items.length === 0) {
          profitTbody.innerHTML = `
            <tr>
              <td colspan="5" class="text-center py-12 text-gray-400">
                No items found matching the filter criteria (Margin &gt; 50,000 GP, traded in last hour)
              </td>
            </tr>
          `;
          dataStatus.innerHTML = '<span class="text-amber-400">No matching items found</span>';
          return;
        }

        profitTbody.innerHTML = items.map((item, index) => `
          <tr>
            <td class="text-gray-500 font-mono">${index + 1}</td>
            <td class="font-medium text-white">${item.name}</td>
            <td>${formatGP(item.low)}</td>
            <td>${formatGP(item.high)}</td>
            <td>${formatGP(item.margin, true)}</td>
          </tr>
        `).join('');

        dataStatus.innerHTML = `<span class="text-green-400">✓ Showing ${items.length} items with highest profit margins</span>`;
      }

      // Fetch and process data
      async function fetchData() {
        showLoading();
        refreshBtn.disabled = true;
        refreshBtn.classList.add('opacity-50', 'cursor-not-allowed');

        try {
          // Fetch both APIs in parallel
          const [pricesRes, mappingRes] = await Promise.all([
            fetch(PRICES_API, {
              headers: { 'User-Agent': USER_AGENT }
            }),
            fetch(MAPPING_API, {
              headers: { 'User-Agent': USER_AGENT }
            })
          ]);

          if (!pricesRes.ok || !mappingRes.ok) {
            throw new Error('API request failed');
          }

          const pricesData = await pricesRes.json();
          const mappingData = await mappingRes.json();

          // Create ID to name mapping
          const idToName = {};
          mappingData.forEach(item => {
            idToName[item.id] = item.name;
          });

          // Current timestamp for 1-hour filter
          const oneHourAgo = Math.floor(Date.now() / 1000) - 3600;

          // Process prices data
          const items = [];
          const pricesObj = pricesData.data || pricesData;

          for (const [id, priceInfo] of Object.entries(pricesObj)) {
            const name = idToName[id];
            if (!name) continue;

            const high = priceInfo.high;
            const low = priceInfo.low;
            const highTime = priceInfo.highTime;
            const lowTime = priceInfo.lowTime;

            // Skip if missing price data
            if (!high || !low) continue;

            // Calculate margin
            const margin = high - low;

            // Filter: margin > 50,000 AND traded in last hour
            if (margin > 50000) {
              const recentlyTraded = (highTime && highTime >= oneHourAgo) || (lowTime && lowTime >= oneHourAgo);
              if (recentlyTraded) {
                items.push({
                  id,
                  name,
                  high,
                  low,
                  margin
                });
              }
            }
          }

          // Sort by margin (descending) and take top 20
          items.sort((a, b) => b.margin - a.margin);
          const top20 = items.slice(0, 20);

          renderTable(top20);
          updateTimestamp();

        } catch (error) {
          console.error('Error fetching data:', error);
          showError('Failed to fetch data from RuneScape Wiki API. Please try again later.');
        } finally {
          refreshBtn.disabled = false;
          refreshBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        }
      }

      // Initial timestamp
      updateTimestamp();

      // Fetch data on page load
      fetchData();

      // Auto-refresh every 5 minutes
      setInterval(fetchData, 5 * 60 * 1000);
    </script>
  </body>
</html>
